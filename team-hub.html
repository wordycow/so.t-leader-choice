<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>The Unique – Team Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background-color: #020617;
      color: #E5E7EB;
      background-image: radial-gradient(circle at top, rgba(148,163,184,0.22), transparent 55%);
    }

    .scene-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.35;
      z-index: 0;
      pointer-events: none;
    }

    .page-wrap {
      position: relative;
      z-index: 5;
      max-width: 1200px;
      margin: 40px auto 48px;
      padding: 0 16px 40px;
    }

    .page-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .page-sub {
      font-size: 13px;
      color: #9CA3AF;
      margin-bottom: 20px;
    }

    /* 카드 그리드 (참가자용 링크) */
    .card-grid-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #9CA3AF;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
      margin-bottom: 28px;
    }

    .hub-card {
      border-radius: 16px;
      overflow: hidden;
      background: radial-gradient(circle at top, rgba(15,23,42,0.98), rgba(15,23,42,0.99));
      border: 1px solid rgba(148,163,184,0.7);
      box-shadow:
        0 18px 40px rgba(0,0,0,0.85),
        0 0 0 1px rgba(15,23,42,1) inset;
      display: flex;
      flex-direction: column;
    }

    .hub-card-thumb {
      position: relative;
      width: 100%;
      padding-top: 52%;
      overflow: hidden;
    }
    .hub-card-thumb img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .hub-card-body {
      padding: 12px 14px 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .hub-card-title {
      font-size: 14px;
      font-weight: 700;
    }
    .hub-card-sub {
      font-size: 11px;
      color: #9CA3AF;
      margin-bottom: 4px;
    }

    .hub-card-links {
      display: flex;
      gap: 6px;
      margin-top: 6px;
    }
    .hub-btn {
      flex: 1;
      border-radius: 999px;
      border: none;
      font-size: 11px;
      padding: 6px 0;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.03em;
    }
    .hub-btn-page {
      background: #0EA5E9;
      color: #0B1120;
    }
    .hub-btn-page:hover { filter: brightness(1.05); }
    .hub-btn-github {
      background: #111827;
      color: #E5E7EB;
      border: 1px solid rgba(148,163,184,0.9);
    }
    .hub-btn-github:hover {
      border-color: #FACC15;
    }

    /* 프로모션 관리 (관리자용) */
    .promo-admin {
      margin-top: 32px;
      border-radius: 18px;
      padding: 18px 16px 20px;
      background: radial-gradient(circle at top, rgba(15,23,42,0.98), rgba(15,23,42,0.99));
      border: 1px solid rgba(234,179,8,0.85);
      box-shadow:
        0 0 24px rgba(234,179,8,0.6),
        0 26px 60px rgba(0,0,0,0.95);
    }
    .promo-admin-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
    }
    .promo-admin-title {
      font-size: 15px;
      font-weight: 700;
    }
    .promo-admin-badge {
      font-size: 11px;
      color: #F97316;
    }
    .promo-admin-desc {
      font-size: 11px;
      color: #9CA3AF;
      margin-bottom: 12px;
    }

    .promo-admin-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 2fr);
      gap: 14px;
    }

    .promo-left {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .promo-field {
      font-size: 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .promo-field label {
      color: #9CA3AF;
    }
    .promo-field input[type="text"],
    .promo-field textarea {
      font-size: 12px;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #4B5563;
      background: #020617;
      color: #E5E7EB;
      resize: vertical;
    }
    .promo-field input[type="file"] {
      font-size: 12px;
    }

    .promo-preview-frame {
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(148,163,184,0.7);
      background: #020617;
      min-height: 140px;
    }
    .promo-preview-inner {
      position: relative;
      width: 100%;
      padding-top: 56%;
    }
    .promo-preview-inner img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .promo-preview-caption {
      position: absolute;
      inset: auto 0 0 0;
      padding: 10px;
      background: linear-gradient(to top, rgba(15,23,42,0.95), transparent);
      font-size: 12px;
    }
    .promo-preview-caption strong {
      display: block;
      margin-bottom: 2px;
    }

    .promo-actions {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .promo-btn {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.8);
      background: #020617;
      color: #E5E7EB;
      font-size: 12px;
      cursor: pointer;
    }
    .promo-btn-primary {
      background: #10B981;
      color: #022c22;
      border: none;
      font-weight: 600;
    }
    .promo-btn:hover { filter: brightness(1.05); }

    .promo-code {
      margin-top: 10px;
      font-size: 11px;
      color: #9CA3AF;
    }
    .promo-code textarea {
      width: 100%;
      min-height: 140px;
      margin-top: 4px;
      font-size: 11px;
      border-radius: 10px;
      border: 1px solid #4B5563;
      background: #020617;
      color: #E5E7EB;
      padding: 6px 8px;
      resize: vertical;
    }

    @media (max-width: 900px) {
      .admin-layout {
        grid-template-columns: minmax(0, 1fr);
      }
      .promo-admin-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <!-- 필요하면 배경 이미지 사용 -->
  <!-- <img src="img/bg-unique-main.jpg" class="scene-bg" alt="" /> -->

  <div class="page-wrap">
    <div class="page-title">공통 노출 화면 (참가자용)</div>
    <div class="page-sub">
      The Unique 참가자들이 자주 들어오는 링크를 한 곳에서 모아둔 허브입니다.<br />
      리더보드 / 직급의 전당 / 공지 카드는 제거하고, 대문·메인·프로모션 위주로 정리했습니다.
    </div>

    <!-- 참가자용 카드 링크 -->
    <div class="card-grid-title">참가자가 보는 화면</div>
    <section class="card-grid">
      <!-- The Unique 대문 -->
      <article class="hub-card">
        <div class="hub-card-thumb">
          <img src="img/the-unique-gate-preview.jpg" alt="The Unique 대문" />
        </div>
        <div class="hub-card-body">
          <div class="hub-card-title">The Unique 대문</div>
          <div class="hub-card-sub">the-unique-gate.html · 입구 화면</div>
          <div class="hub-card-links">
            <button class="hub-btn hub-btn-page" onclick="window.open('the-unique-gate.html','_blank')">
              페이지 열기
            </button>
            <button class="hub-btn hub-btn-github" onclick="window.open('https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-gate.html','_blank')">
              GitHub 이동
            </button>
          </div>
        </div>
      </article>

      <!-- The Unique 메인 -->
      <article class="hub-card">
        <div class="hub-card-thumb">
          <img src="img/the-unique-main-preview.jpg" alt="The Unique 메인" />
        </div>
        <div class="hub-card-body">
          <div class="hub-card-title">The Unique 메인</div>
          <div class="hub-card-sub">the-unique-main.html · 직급/프로모션 허브 화면</div>
          <div class="hub-card-links">
            <button class="hub-btn hub-btn-page" onclick="window.open('the-unique-main.html','_blank')">
              페이지 열기
            </button>
            <button class="hub-btn hub-btn-github" onclick="window.open('https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-main.html','_blank')">
              GitHub 이동
            </button>
          </div>
        </div>
      </article>

      <!-- 프로모션 보기 -->
      <article class="hub-card">
        <div class="hub-card-thumb">
          <img src="img/bg_unique_promo.jpg" alt="The Unique 프로모션" />
        </div>
        <div class="hub-card-body">
          <div class="hub-card-title">The Unique 프로모션 보기</div>
          <div class="hub-card-sub">the-unique-promo.html · 현재 진행 중인 프로모션</div>
          <div class="hub-card-links">
            <button class="hub-btn hub-btn-page" onclick="window.open('the-unique-promo.html','_blank')">
              페이지 열기
            </button>
            <button class="hub-btn hub-btn-github" onclick="window.open('https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-promo.html','_blank')">
              GitHub 이동
            </button>
          </div>
        </div>
      </article>
    </section>

    <!-- 프로모션 관리 (관리자용 도구) -->
    <section class="promo-admin">
      <div class="promo-admin-header">
        <div class="promo-admin-title">프로모션 관리 (관리자용)</div>
        <div class="promo-admin-badge">* 이 영역은 써나/운영진이 GitHub 수정용으로 사용하는 구역입니다.</div>
      </div>
      <div class="promo-admin-desc">
        • 아래에서 <b>프로모션 이미지 / 제목 / 공지 텍스트</b>를 입력하면,<br />
        • <b>the-unique-promo.html</b>에 붙여넣을 수 있는 HTML 코드가 생성됩니다. (실제 반영은 GitHub에 복사 후 저장 필요)
      </div>

      <div class="promo-admin-layout">
        <!-- 왼쪽: 입력 + 파일 선택 -->
        <div class="promo-left">
          <div class="promo-field">
            <label for="promo-image">프로모션 이미지 파일</label>
            <input type="file" id="promo-image" accept="image/*" />
            <div style="font-size:11px;color:#9CA3AF;">
              • 최종 파일은 <code>img/파일이름.jpg</code> 형태로 GitHub의 <code>img</code> 폴더에 올려야 합니다.
            </div>
          </div>

          <div class="promo-field">
            <label for="promo-image-path">이미지 경로 (GitHub 기준)</label>
            <input type="text" id="promo-image-path" placeholder="예: img/the-unique-promo-main.jpg" />
          </div>

          <div class="promo-field">
            <label for="promo-title-input">프로모션 제목</label>
            <input type="text" id="promo-title-input" placeholder="예: 2025년 1분기 THE UNIQUE 프로모션" />
          </div>

          <div class="promo-field">
            <label for="promo-text-input">공지 텍스트 (팝업/설명용)</label>
            <textarea id="promo-text-input" rows="5" placeholder="참가자에게 보여줄 프로모션 설명을 입력하세요."></textarea>
          </div>
        </div>

        <!-- 오른쪽: 미리보기 -->
        <div>
          <div class="promo-field">
            <label>미리보기</label>
            <div class="promo-preview-frame">
              <div class="promo-preview-inner">
                <img id="promo-preview-img" src="" alt="프로모션 미리보기" />
                <div class="promo-preview-caption" id="promo-preview-caption" style="display:none;">
                  <strong id="promo-preview-title"></strong>
                  <span id="promo-preview-text"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="promo-actions">
            <button type="button" class="promo-btn promo-btn-primary" id="promo-generate">
              프로모션 HTML 코드 생성
            </button>
            <button type="button" class="promo-btn" id="promo-copy">
              코드 복사
            </button>
          </div>

          <div class="promo-code">
            생성된 HTML 코드 (the-unique-promo.html 안에 붙여넣기)
            <textarea id="promo-code-output" readonly></textarea>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // ===== 프로모션 관리용 JS =====
    const fileInput = document.getElementById("promo-image");
    const imagePathInput = document.getElementById("promo-image-path");
    const titleInput = document.getElementById("promo-title-input");
    const textInput = document.getElementById("promo-text-input");

    const previewImg = document.getElementById("promo-preview-img");
    const previewCaption = document.getElementById("promo-preview-caption");
    const previewTitle = document.getElementById("promo-preview-title");
    const previewText = document.getElementById("promo-preview-text");

    const generateBtn = document.getElementById("promo-generate");
    const copyBtn = document.getElementById("promo-copy");
    const codeOutput = document.getElementById("promo-code-output");

    // 파일 선택 시: 미리보기 + 경로 힌트 설정
    fileInput.addEventListener("change", function () {
      const file = this.files && this.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (ev) {
        previewImg.src = ev.target.result;
        previewCaption.style.display = "block";
        previewTitle.textContent = titleInput.value || "프로모션 제목";
        previewText.textContent = textInput.value || "프로모션 설명 텍스트";
      };
      reader.readAsDataURL(file);

      // GitHub용 경로 자동 제안
      const safeName = file.name.replace(/\s+/g, "-");
      if (!imagePathInput.value) {
        imagePathInput.value = "img/" + safeName;
      }
    });

    // 제목/내용 입력하면 미리보기 텍스트 갱신
    function updatePreviewText() {
      if (!previewImg.src) return;
      previewCaption.style.display = "block";
      previewTitle.textContent = titleInput.value || "프로모션 제목";
      previewText.textContent = textInput.value || "프로모션 설명 텍스트";
    }
    titleInput.addEventListener("input", updatePreviewText);
    textInput.addEventListener("input", updatePreviewText);

    // HTML 코드 생성
    generateBtn.addEventListener("click", function () {
      const imgPath = imagePathInput.value.trim() || "img/the-unique-promo-main.jpg";
      const title = titleInput.value.trim() || "프로모션 제목";
      const text = textInput.value.trim() || "프로모션 설명 텍스트";

      const lines = [];
      lines.push('<!-- 프로모션 메인 영역 -->');
      lines.push('<section class="promo-hero">');
      lines.push('  <div class="promo-hero-inner">');
      lines.push('    <div class="promo-hero-image">');
      lines.push('      <img src="' + imgPath + '" alt="' + title.replace(/"/g, "&quot;") + '" />');
      lines.push('    </div>');
      lines.push('    <div class="promo-hero-copy">');
      lines.push('      <h1>' + title + '</h1>');
      lines.push('      <p>' + text + '</p>');
      lines.push('      <button class="promo-open-notice" onclick="document.getElementById(\'promo-notice\').showModal()">자세히 보기</button>');
      lines.push('    </div>');
      lines.push('  </div>');
      lines.push('</section>');
      lines.push('');
      lines.push('<!-- 공지 팝업 (dialog 기반, CSS/JS는 the-unique-promo.html에서 정의) -->');
      lines.push('<dialog id="promo-notice" class="promo-notice-dialog">');
      lines.push('  <div class="promo-notice-body">');
      lines.push('    <h2>' + title + '</h2>');
      lines.push('    <p>' + text + '</p>');
      lines.push('    <button onclick="document.getElementById(\'promo-notice\').close()">닫기</button>');
      lines.push('  </div>');
      lines.push('</dialog>');
      lines.push('');
      lines.push('<!-- 필요한 스타일과 dialog 지원 JS는 the-unique-promo.html 상단에 추가 -->');

      codeOutput.value = lines.join("\n");
    });

    // 코드 복사
    copyBtn.addEventListener("click", function () {
      if (!codeOutput.value.trim()) {
        alert("먼저 [프로모션 HTML 코드 생성]을 눌러주세요.");
        return;
      }
      codeOutput.select();
      document.execCommand("copy");
      alert("코드를 클립보드에 복사했습니다. the-unique-promo.html에 붙여넣으세요.");
    });
  </script>
</body>
</html>
