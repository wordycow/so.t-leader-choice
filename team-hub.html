<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>The Unique – Team Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Pretendard", sans-serif;
      background: radial-gradient(circle at top, #1f2937, #020617 55%);
      color: #e5e7eb;
    }

    a { color: inherit; }

    .page-wrap {
      max-width: 1200px;
      margin: 40px auto 32px;
      padding: 0 16px 24px;
    }

    /* 헤더 */

    .hub-header {
      text-align: left;
      margin-bottom: 18px;
    }

    .hub-title {
      font-size: 26px;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #facc15;
      text-shadow: 0 0 12px rgba(250, 204, 21, 0.75);
    }

    .hub-subtitle {
      font-size: 12px;
      margin-top: 4px;
      color: #9ca3af;
    }

    /* 공용 섹션 공통 스타일 */

    .section {
      border-radius: 24px;
      padding: 18px 18px 20px;
      background: radial-gradient(circle at top,
        rgba(15, 23, 42, 0.9),
        rgba(15, 23, 42, 0.98)
      );
      box-shadow:
        0 0 0 1px rgba(30, 64, 118, 0.7),
        0 18px 45px rgba(0, 0, 0, 0.9);
      margin-bottom: 22px;
    }

    .section-title-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 12px;
    }

    .section-title {
      font-size: 14px;
      font-weight: 700;
      color: #f9fafb;
    }

    .section-desc {
      font-size: 12px;
      color: #9ca3af;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    .link-card {
      border-radius: 18px;
      padding: 14px 14px 12px;
      background: linear-gradient(145deg, #020617, #020617, #020617);
      border: 1px solid rgba(148, 163, 184, 0.6);
      box-shadow: 0 14px 32px rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .link-card.admin {
      border-color: rgba(248, 181, 84, 0.9);
    }

    .link-card-title {
      font-size: 13px;
      font-weight: 600;
      color: #f9fafb;
    }

    .link-card-desc {
      font-size: 11px;
      color: #9ca3af;
    }

    .link-card-meta {
      font-size: 11px;
      color: #6b7280;
    }

    .link-card-actions {
      display: flex;
      gap: 8px;
      margin-top: 6px;
    }

    .link-btn {
      flex: 1 1 0;
      border-radius: 999px;
      padding: 7px 8px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      transition:
        background 0.15s ease,
        border-color 0.15s ease,
        transform 0.1s ease;
    }

    .link-btn:first-child {
      border-color: rgba(248, 181, 84, 0.9);
      background: radial-gradient(circle at top, #f97316, #7f1d1d);
      color: #fef2f2;
    }

    .link-btn:hover {
      transform: translateY(-1px);
      border-color: rgba(248, 250, 252, 0.7);
      background: rgba(30, 64, 175, 0.85);
    }

    /* 관리자 섹션 */

    .section-admin {
      border-radius: 24px;
      padding: 18px 18px 20px;
      background: radial-gradient(circle at top,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.99)
      );
      box-shadow:
        0 0 0 1px rgba(248, 181, 84, 0.9),
        0 20px 55px rgba(0, 0, 0, 1);
    }

    .admin-grid {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(0, 2.4fr);
      gap: 16px;
      margin-top: 8px;
    }

    .admin-note {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 2px;
    }

    .admin-left {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 6px;
    }

    .field-label {
      font-size: 11px;
      color: #e5e7eb;
    }

    .field-hint {
      font-size: 10px;
      color: #9ca3af;
    }

    .field-input,
    .field-textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.96);
      color: #e5e7eb;
      font-size: 12px;
      padding: 7px 9px;
      outline: none;
    }

    .field-input:focus,
    .field-textarea:focus {
      border-color: rgba(248, 181, 84, 0.9);
      box-shadow: 0 0 0 1px rgba(248, 181, 84, 0.6);
    }

    .field-textarea {
      min-height: 80px;
      resize: vertical;
    }

    .code-actions {
      display: flex;
      gap: 8px;
      margin-top: 4px;
    }

    .small-btn {
      flex: 1 1 0;
      border-radius: 999px;
      padding: 7px 10px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 0.98);
      color: #e5e7eb;
      cursor: pointer;
      transition:
        background 0.15s ease,
        transform 0.1s ease,
        border-color 0.15s ease;
    }

    .small-btn.primary {
      border-color: rgba(248, 181, 84, 0.9);
      background: radial-gradient(circle at top, #f97316, #7f1d1d);
      color: #fef2f2;
    }

    .small-btn:hover {
      transform: translateY(-1px);
      background: rgba(30, 64, 175, 0.9);
      border-color: rgba(191, 219, 254, 0.9);
    }

    .code-output {
      margin-top: 6px;
    }

    .code-output textarea {
      width: 100%;
      min-height: 90px;
      border-radius: 10px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: #020617;
      color: #e5e7eb;
      font-size: 11px;
      padding: 7px 9px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      resize: vertical;
    }

    .admin-right {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .preview-block {
      flex: 1 1 0;
      border-radius: 18px;
      padding: 10px 10px 8px;
      border: 1px solid rgba(248, 181, 84, 0.9);
      background: radial-gradient(circle at top,
        rgba(15, 23, 42, 0.96),
        rgba(15, 23, 42, 0.99)
      );
      box-shadow: 0 14px 32px rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .preview-title {
      font-size: 12px;
      font-weight: 600;
      color: #facc15;
    }

    .preview-frame {
      flex: 1 1 0;
      border-radius: 12px;
      overflow: hidden;
      background: #020617;
      border: 1px solid rgba(30, 41, 59, 1);
    }

    .preview-frame iframe {
      width: 100%;
      height: 100%;
      border: 0;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      text-align: right;
      opacity: 0.8;
    }

    /* 스케줄 admin 전용 그리드 */
    .schedule-admin-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 8px;
    }

    @media (max-width: 960px) {
      .card-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .admin-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .preview-block {
        min-height: 220px;
      }
      .schedule-admin-grid {
        grid-template-columns: minmax(0,1fr);
      }
    }
  </style>
</head>
<body>
  <div class="page-wrap">
    <header class="hub-header">
      <div class="hub-title">THE UNIQUE – TEAM HUB</div>
      <div class="hub-subtitle">
        참가자가 보는 공용 페이지와, 관리자가 조정하는 프로모션·공지·강의 스케줄을 한 곳에서 관리합니다.
      </div>
    </header>

    <!-- 1. 공동 노출 화면 -->
    <section class="section">
      <div class="section-title-row">
        <div class="section-title">공동 노출 화면 (참가자용)</div>
        <div class="section-desc">
          The Unique 참가자들에게 실제로 보여지는 주요 화면입니다.
        </div>
      </div>

      <div class="card-grid">
        <!-- 게이트 -->
        <article class="link-card">
          <div class="link-card-title">The Unique 대문</div>
          <div class="link-card-desc">
            초대 링크로 처음 접속할 때 보이는 로그인 게이트 화면입니다.
          </div>
          <div class="link-card-meta">파일: the-unique-gate.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="the-unique-gate.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-gate.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>

        <!-- 메인 -->
        <article class="link-card">
          <div class="link-card-title">The Unique 메인</div>
          <div class="link-card-desc">
            로그인 후 멤버들이 보는 메인 대시보드입니다. 직급·목표·eBook과 주간 스케줄이 노출됩니다.
          </div>
          <div class="link-card-meta">파일: the-unique-main.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="the-unique-main.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-main.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>

        <!-- 프로모션 -->
        <article class="link-card">
          <div class="link-card-title">The Unique 프로모션 보기</div>
          <div class="link-card-desc">
            현재 사용 중인 프로모션 페이지입니다. 아래 관리자 영역에서 내용과 이미지를 조정할 수 있습니다.
          </div>
          <div class="link-card-meta">파일: the-unique-promo.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="the-unique-promo.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-promo.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>
      </div>
    </section>

    <!-- 2. 관리자 전용 도구 -->
    <section class="section">
      <div class="section-title-row">
        <div class="section-title">관리자 전용 도구</div>
        <div class="section-desc">
          eBook 설정, 직급 전당, 전체 허브 설정을 관리하는 페이지입니다.
        </div>
      </div>

      <div class="card-grid">
        <!-- eBook 관리자 -->
        <article class="link-card admin">
          <div class="link-card-title">The Unique eBook 관리자</div>
          <div class="link-card-desc">
            the-unique-ebook.html에 노출되는 eBook 목록과 순서를 관리합니다.
          </div>
          <div class="link-card-meta">파일: the-unique-ebook-admin.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="the-unique-ebook-admin.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/the-unique-ebook-admin.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>

        <!-- 직급 전당 관리자 -->
        <article class="link-card admin">
          <div class="link-card-title">직급 전당 관리자</div>
          <div class="link-card-desc">
            rank-hall.html / rank-hall.json 에 들어가는 직급 정보를 관리합니다.
          </div>
          <div class="link-card-meta">파일: admin-rank-hall.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="admin-rank-hall.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/admin-rank-hall.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>

        <!-- 전체 허브 관리자 -->
        <article class="link-card admin">
          <div class="link-card-title">Team Hub 관리자 대시보드</div>
          <div class="link-card-desc">
            통합 허브 설정 및 다른 관리 도구로 이동하는 인덱스 페이지입니다.
          </div>
          <div class="link-card-meta">파일: admin-index.html</div>
          <div class="link-card-actions">
            <a class="link-btn" href="admin-index.html" target="_blank" rel="noopener noreferrer">페이지 열기</a>
            <a class="link-btn" href="https://github.com/wordycow/so.t-leader-choice/blob/main/admin-index.html" target="_blank" rel="noopener noreferrer">GITHUB 이동</a>
          </div>
        </article>
      </div>
    </section>

    <!-- 3. 프로모션 & 공지 & 주간 스케줄 관리 -->
    <section class="section-admin">
      <div class="section-title-row">
        <div class="section-title">프로모션 & 공지 & 주간 스케줄 관리 (관리자용)</div>
        <div class="section-desc">
          프로모션 이미지/문구, 공지 팝업, 일주일 강의 스케줄을 한 곳에서 코드로 생성해 사용할 수 있습니다.
        </div>
      </div>
      <div class="admin-note">
        * 생성된 코드는 <strong>the-unique-promo.html / the-unique-main.html</strong> 등에 직접 붙여 넣어 사용합니다.
      </div>

      <div class="admin-grid">
        <!-- 왼쪽: 폼 + 코드 생성 -->
        <div class="admin-left">
          <!-- 프로모션 코드 생성 -->
          <div class="field-group">
            <div class="field-label">프로모션 이미지 경로 (상대 경로)</div>
            <input
              id="promo-image"
              class="field-input"
              type="text"
              placeholder="예: img/the-unique-main.jpg"
            />
            <div class="field-hint">
              ▸ 이미지 파일을 <code>img</code> 폴더에 올리고 경로를 입력하세요.<br />
              ▸ <strong>이미지를 빼고 싶으면 이 칸을 비운 상태로 코드 생성</strong>하면 이미지 없이 텍스트만 나오는 프로모션 코드가 만들어집니다.
            </div>
          </div>

          <div class="field-group">
            <div class="field-label">프로모션 제목</div>
            <input
              id="promo-title"
              class="field-input"
              type="text"
              placeholder="예: 2025년 1분기 THE UNIQUE 프로모션"
            />
          </div>

          <div class="field-group">
            <div class="field-label">프로모션 본문 (설명/공지 텍스트)</div>
            <textarea
              id="promo-body"
              class="field-textarea"
              placeholder="참가자에게 보여줄 프로모션 안내 문구를 입력하세요."
            ></textarea>
          </div>

          <div class="code-actions">
            <button id="generate-btn" class="small-btn primary" type="button">
              프로모션 HTML 코드 생성
            </button>
            <button id="copy-btn" class="small-btn" type="button">
              코드 복사
            </button>
          </div>

          <div class="code-output">
            <div class="field-label">생성된 프로모션 HTML 코드</div>
            <textarea
              id="promo-code-output"
              spellcheck="false"
              placeholder="여기에 생성된 코드를 the-unique-promo.html 안에 붙여 넣으세요."
            ></textarea>
          </div>

          <hr style="margin:10px 0; border:none; border-top:1px dashed rgba(75,85,99,0.7);" />

          <!-- 공지 팝업 코드 생성 -->
          <div class="field-group">
            <div class="field-label">공지 팝업 제목</div>
            <input
              id="popup-title"
              class="field-input"
              type="text"
              placeholder="예: 중요 공지 안내"
            />
          </div>

          <div class="field-group">
            <div class="field-label">공지 팝업 내용</div>
            <textarea
              id="popup-body"
              class="field-textarea"
              placeholder="팝업으로 띄울 공지 내용을 입력하세요. 줄바꿈은 자동으로 &lt;br&gt; 처리됩니다."
            ></textarea>
            <div class="field-hint">
              ▸ <strong>제목 또는 내용이 비어 있으면</strong> 생성된 스크립트의
              <code>if (!popupTitle || !popupBody) return;</code> 조건 때문에 팝업이 뜨지 않습니다.<br />
              ▸ 필요 없을 때는 제목/내용을 비우고 코드를 다시 생성하면 됩니다.
            </div>
          </div>

          <div class="code-actions">
            <button id="generate-popup-btn" class="small-btn primary" type="button">
              공지 팝업 스크립트 생성
            </button>
            <button id="copy-popup-btn" class="small-btn" type="button">
              팝업 코드 복사
            </button>
          </div>

          <div class="code-output">
            <div class="field-label">생성된 공지 팝업 스크립트</div>
            <textarea
              id="popup-code-output"
              spellcheck="false"
              placeholder="여기에 생성된 스크립트를 the-unique-main.html 또는 원하는 페이지의 &lt;body&gt; 하단에 붙여 넣으세요."
            ></textarea>
          </div>

          <hr style="margin:10px 0; border:none; border-top:1px dashed rgba(75,85,99,0.7);" />

          <!-- 주간 스케줄 코드 생성 -->
          <div class="field-group">
            <div class="field-label">일주일 강의 스케줄 관리</div>
            <div class="field-hint">
              하나씩 강의를 추가하면 주간 스케줄 HTML 코드가 만들어집니다.<br />
              완성된 코드를 <strong>the-unique-main.html</strong> 안의
              <code>&lt;section class="schedule-panel"&gt; ...</code> 블록 전체와 교체해서 사용하세요.
            </div>
          </div>

          <div class="schedule-admin-grid">
            <div class="field-group">
              <div class="field-label">요일</div>
              <select id="sch-day" class="field-input">
                <option value="월">월요일</option>
                <option value="화">화요일</option>
                <option value="수">수요일</option>
                <option value="목">목요일</option>
                <option value="금">금요일</option>
                <option value="토">토요일</option>
                <option value="일">일요일</option>
              </select>
            </div>
            <div class="field-group">
              <div class="field-label">시간</div>
              <input id="sch-time" class="field-input" type="text" placeholder="예: 06:00–07:00" />
            </div>
            <div class="field-group">
              <div class="field-label">세미나 제목</div>
              <input id="sch-title" class="field-input" type="text" placeholder="예: 아침 개구리 러닝" />
            </div>
            <div class="field-group">
              <div class="field-label">강사</div>
              <input id="sch-teacher" class="field-input" type="text" placeholder="예: 최선아" />
            </div>
            <div class="field-group">
              <div class="field-label">유형/메모</div>
              <input id="sch-type" class="field-input" type="text" placeholder="예: 줌 세미나 / 오프라인" />
            </div>
          </div>

          <div class="code-actions">
            <button id="sch-add-btn" class="small-btn primary" type="button">스케줄 추가</button>
            <button id="sch-reset-btn" class="small-btn" type="button">전체 초기화</button>
            <button id="sch-copy-btn" class="small-btn" type="button">코드 복사</button>
          </div>

          <div class="code-output">
            <div class="field-label">
              생성된 주간 스케줄 HTML 코드<br/>
              <span class="field-hint">
                → 아래 코드를 전체 복사해서 <strong>the-unique-main.html</strong> 안의
                <code>&lt;section class="schedule-panel"&gt; ...</code> 부분을 통째로 교체하세요.
              </span>
            </div>
            <textarea id="sch-code-output" spellcheck="false"></textarea>
          </div>
        </div>

        <!-- 오른쪽: 미리보기 2개 -->
        <div class="admin-right">
          <div class="preview-block">
            <div class="preview-title">프로모션 미리보기 (the-unique-promo.html)</div>
            <div class="preview-frame">
              <iframe
                src="the-unique-promo.html"
                title="The Unique 프로모션 미리보기"
                loading="lazy"
              ></iframe>
            </div>
          </div>

          <div class="preview-block">
            <div class="preview-title">공지 / 메인 화면 미리보기 (the-unique-main.html)</div>
            <div class="preview-frame">
              <iframe
                src="the-unique-main.html"
                title="The Unique 메인 미리보기"
                loading="lazy"
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="footer-note">
      The Unique Team Hub · so.t-leader-choice · internal tool
    </div>
  </div>

  <script>
    (function () {
      const imgInput   = document.getElementById("promo-image");
      const titleInput = document.getElementById("promo-title");
      const bodyInput  = document.getElementById("promo-body");
      const out        = document.getElementById("promo-code-output");
      const genBtn     = document.getElementById("generate-btn");
      const copyBtn    = document.getElementById("copy-btn");

      const popupTitleInput = document.getElementById("popup-title");
      const popupBodyInput  = document.getElementById("popup-body");
      const popupOut        = document.getElementById("popup-code-output");
      const popupGenBtn     = document.getElementById("generate-popup-btn");
      const popupCopyBtn    = document.getElementById("copy-popup-btn");

      const schDay      = document.getElementById("sch-day");
      const schTime     = document.getElementById("sch-time");
      const schTitle    = document.getElementById("sch-title");
      const schTeacher  = document.getElementById("sch-teacher");
      const schType     = document.getElementById("sch-type");
      const schAddBtn   = document.getElementById("sch-add-btn");
      const schResetBtn = document.getElementById("sch-reset-btn");
      const schCopyBtn  = document.getElementById("sch-copy-btn");
      const schOut      = document.getElementById("sch-code-output");

      // ---------- 프로모션 코드 ----------
      if (genBtn && out) {
        genBtn.addEventListener("click", function () {
          const img   = (imgInput.value || "").trim();
          const title = (titleInput.value || "").trim();
          const body  = (bodyInput.value || "").trim();

          const safeTitle = title || "THE UNIQUE 프로모션";
          const safeBody  =
            body ||
            "여기에 참가자에게 노출할 프로모션 안내 문구를 입력해 주세요.";

          let visualBlock = "";
          if (img) {
            visualBlock = [
              '    <div class="unique-promo-visual">',
              '      <img src="' + img + '" alt="The Unique 프로모션 이미지">',
              "    </div>"
            ].join("\\n");
          }

          const html = [
            "<!-- THE UNIQUE 프로모션 블록 시작 -->",
            '<section class="unique-promo-hero">',
            '  <div class="unique-promo-inner">',
            visualBlock,
            '    <div class="unique-promo-copy">',
            "      <h1>" + safeTitle + "</h1>",
            "      <p>",
            "        " + safeBody.replace(/\\n/g, "<br>"),
            "      </p>",
            "    </div>",
            "  </div>",
            "</section>",
            "<!-- THE UNIQUE 프로모션 블록 끝 -->",
            ""
          ].join("\\n");

          out.value = html;
        });
      }

      if (copyBtn && out) {
        copyBtn.addEventListener("click", function () {
          if (!out.value.trim()) {
            alert("먼저 [프로모션 HTML 코드 생성] 버튼을 눌러 코드를 만들어 주세요.");
            return;
          }
          out.select();
          try {
            document.execCommand("copy");
            alert("프로모션 코드가 복사되었습니다. the-unique-promo.html에 붙여 넣으세요.");
          } catch (e) {
            alert("복사에 실패했습니다. 수동으로 선택하여 복사해 주세요.");
          }
        });
      }

      // ---------- 공지 팝업 스크립트 ----------
      if (popupGenBtn && popupOut) {
        popupGenBtn.addEventListener("click", function () {
          const title = (popupTitleInput.value || "").trim();
          const body  = (popupBodyInput.value || "").trim();

          const js =
            "<!-- 공지 팝업 스크립트 시작 -->\\n" +
            "<script>\\n" +
            "(function(){\\n" +
            "  var popupTitle = " + JSON.stringify(title) + ";\\n" +
            "  var popupBody  = " + JSON.stringify(body)  + ";\\n" +
            "  if (!popupTitle || !popupBody) return;\\n" +
            "  document.addEventListener(\\\"DOMContentLoaded\\\", function () {\\n" +
            "    if (document.querySelector(\\\".unique-notice-popup-backdrop\\\")) return;\\n" +
            "    var wrap = document.createElement(\\\"div\\\");\\n" +
            "    wrap.className = \\\"unique-notice-popup-backdrop\\\";\\n" +
            "    var bodyHtml = popupBody.replace(/\\\\n/g, \\\"<br>\\\");\\n" +
            "    wrap.innerHTML = " +
            "\"<div class=\\\\\\\"unique-notice-popup\\\\\\\"><div class=\\\\\\\"unique-notice-popup-inner\\\\\\\">\" +" +
            "\"<h2>\" + popupTitle + \"</h2>\" +" +
            "\"<p>\" + bodyHtml + \"</p>\" +" +
            "\"<button type=\\\\\\\"button\\\\\\\" class=\\\\\\\"unique-notice-popup-close\\\\\\\">닫기</button>\" +" +
            "\"</div></div>\";\\n" +
            "    document.body.appendChild(wrap);\\n" +
            "    var btn = wrap.querySelector(\\\".unique-notice-popup-close\\\");\\n" +
            "    if (btn) btn.addEventListener(\\\"click\\\", function(){ wrap.remove(); });\\n" +
            "  });\\n" +
            "})();\\n" +
            "</script>\\n" +
            "<!-- 공지 팝업 스크립트 끝 -->\\n";

          popupOut.value = js;
        });
      }

      if (popupCopyBtn && popupOut) {
        popupCopyBtn.addEventListener("click", function () {
          if (!popupOut.value.trim()) {
            alert("먼저 [공지 팝업 스크립트 생성] 버튼을 눌러 코드를 만들어 주세요.");
            return;
          }
          popupOut.select();
          try {
            document.execCommand("copy");
            alert("공지 팝업 코드가 복사되었습니다. 원하는 페이지의 하단에 붙여 넣으세요.");
          } catch (e) {
            alert("복사에 실패했습니다. 수동으로 선택하여 복사해 주세요.");
          }
        });
      }

      // ---------- 주간 스케줄 HTML 빌더 ----------
      const DAY_ORDER = ["월", "화", "수", "목", "금", "토", "일"];
      const DAY_LABEL = {
        "월": "월요일",
        "화": "화요일",
        "수": "수요일",
        "목": "목요일",
        "금": "금요일",
        "토": "토요일",
        "일": "일요일"
      };
      const scheduleData = {}; // day -> items[]

      function escapeHtml(str) {
        return String(str)
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;");
      }

      function updateScheduleHtml() {
        if (!schOut) return;

        const days = DAY_ORDER.filter(function (d) {
          return scheduleData[d] && scheduleData[d].length;
        });

        const lines = [];
        lines.push('<section class="schedule-panel">');
        lines.push('  <div class="schedule-header">이번 주 강의 스케줄</div>');

        if (!days.length) {
          lines.push('  <div class="schedule-empty">등록된 강의 스케줄이 없습니다.</div>');
          lines.push('</section>');
          schOut.value = lines.join("\\n");
          return;
        }

        lines.push('  <div class="schedule-grid">');
        days.forEach(function (day) {
          const label = DAY_LABEL[day] || day;
          lines.push('    <div class="schedule-day">');
          lines.push('      <div class="schedule-day-name">' + label + '</div>');
          scheduleData[day].forEach(function (item) {
            lines.push('      <div class="schedule-item">');
            lines.push('        <div class="schedule-time">' + escapeHtml(item.time) + '</div>');
            lines.push('        <div class="schedule-title">' + escapeHtml(item.title) + '</div>');
            if (item.teacher) {
              lines.push('        <div class="schedule-teacher">강사: ' + escapeHtml(item.teacher) + '</div>');
            }
            if (item.type) {
              lines.push('        <div class="schedule-type">' + escapeHtml(item.type) + '</div>');
            }
            lines.push('      </div>');
          });
          lines.push('    </div>');
        });
        lines.push('  </div>');
        lines.push('</section>');

        schOut.value = lines.join("\\n");
      }

      if (schAddBtn && schOut) {
        schAddBtn.addEventListener("click", function () {
          const day   = schDay.value;
          const time  = (schTime.value || "").trim();
          const title = (schTitle.value || "").trim();
          const teacher = (schTeacher.value || "").trim();
          const type    = (schType.value || "").trim();

          if (!day || !time || !title) {
            alert("요일, 시간, 세미나 제목은 필수입니다.");
            return;
          }

          if (!scheduleData[day]) scheduleData[day] = [];
          scheduleData[day].push({
            time: time,
            title: title,
            teacher: teacher,
            type: type
          });

          schTime.value   = "";
          schTitle.value  = "";
          schTeacher.value = "";
          schType.value   = "";

          updateScheduleHtml();
        });
      }

      if (schResetBtn && schOut) {
        schResetBtn.addEventListener("click", function () {
          if (!confirm("스케줄을 모두 비우시겠습니까?")) return;
          Object.keys(scheduleData).forEach(function (k) { delete scheduleData[k]; });
          schOut.value = "";
        });
      }

      if (schCopyBtn && schOut) {
        schCopyBtn.addEventListener("click", function () {
          if (!schOut.value.trim()) {
            alert("먼저 스케줄을 추가해 코드를 만든 뒤 복사해 주세요.");
            return;
          }
          schOut.select();
          try {
            document.execCommand("copy");
            alert("주간 스케줄 HTML 코드가 복사되었습니다. the-unique-main.html의 schedule-panel 부분을 교체하세요.");
          } catch (e) {
            alert("복사에 실패했습니다. 수동으로 선택하여 복사해 주세요.");
          }
        });
      }
    })();
  </script>
</body>
</html>
