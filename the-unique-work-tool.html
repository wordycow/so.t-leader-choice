<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>The Unique – 일하기 도구 (THE UNIQUE CORE)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 폰트 (기존 The Unique 스타일 계열) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      color: #e5e7eb;
      min-height: 100vh;
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #000 100%);
    }

    .page-wrap {
      max-width: 1100px;
      margin: 32px auto 40px;
      padding: 0 16px 40px;
    }

    header h1 {
      font-family: "Cinzel", serif;
      font-weight: 700;
      letter-spacing: 0.08em;
      font-size: 24px;
      margin: 0 0 6px;
      text-transform: uppercase;
    }

    header p {
      margin: 0;
      font-size: 14px;
      color: #9ca3af;
    }

    .tagline {
      margin-top: 10px;
      font-size: 13px;
      color: #9ca3af;
    }

    .card {
      background: linear-gradient(135deg, rgba(15,23,42,0.95), rgba(17,24,39,0.95));
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,0.3);
      box-shadow:
        0 18px 40px rgba(0,0,0,0.6),
        0 0 0 1px rgba(15,23,42,0.8);
      padding: 18px 18px 20px;
      margin-top: 18px;
    }

    .card h2 {
      margin: 0 0 10px;
      font-size: 16px;
      font-weight: 600;
      color: #f9fafb;
    }

    .card p {
      margin: 4px 0;
      font-size: 13px;
      color: #cbd5f5;
    }

    .card small {
      font-size: 11px;
      color: #9ca3af;
    }

    .grid {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 16px;
    }

    @media (max-width: 840px) {
      .grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field-row {
      display: flex;
      gap: 10px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .field {
      flex: 1;
      min-width: 150px;
    }

    .field label {
      display: block;
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .field input {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid rgba(148,163,184,0.4);
      background: rgba(15,23,42,0.85);
      color: #e5e7eb;
      font-size: 13px;
    }

    .field input::placeholder {
      color: #6b7280;
    }

    textarea {
      width: 100%;
      min-height: 160px;
      resize: vertical;
      padding: 10px 11px;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      font-size: 13px;
      line-height: 1.5;
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    button {
      border: none;
      cursor: pointer;
      font-size: 13px;
      border-radius: 999px;
      padding: 7px 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 500;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, #38bdf8, #6366f1);
      color: #0b1120;
      box-shadow: 0 10px 25px rgba(59,130,246,0.4);
    }

    .btn-secondary {
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148,163,184,0.6);
    }

    .divider-text {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #6b7280;
      margin: 8px 0 4px;
    }

    .pill {
      display: inline-block;
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      color: #9ca3af;
      margin-right: 6px;
      margin-top: 4px;
    }

    .small-note {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 6px;
    }

    .metric-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 6px;
    }

    .metric {
      flex: 1;
      min-width: 150px;
      font-size: 12px;
      color: #cbd5f5;
      background: radial-gradient(circle at top, rgba(30,64,175,0.6), rgba(15,23,42,0.95));
      border-radius: 12px;
      padding: 8px 10px 10px;
      border: 1px solid rgba(129,140,248,0.55);
    }

    .metric label {
      display: block;
      font-size: 11px;
      color: #a5b4fc;
      margin-bottom: 4px;
    }

    .metric input {
      width: 100%;
      padding: 5px 8px;
      border-radius: 8px;
      border: 1px solid rgba(191,219,254,0.6);
      background: rgba(15,23,42,0.95);
      color: #e5e7eb;
      font-size: 12px;
    }

    .metric small {
      display: block;
      margin-top: 4px;
      font-size: 10px;
      color: #9ca3af;
    }

    footer {
      margin-top: 18px;
      font-size: 11px;
      color: #6b7280;
      text-align: right;
    }

    footer strong {
      color: #e5e7eb;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="page-wrap">
    <header>
      <h1>THE UNIQUE CORE</h1>
      <p>“일하기 도구” – 이름만 바꿔서 바로 던질 수 있는 사업 설명 + 오늘 일한 기준</p>
      <div class="tagline">
        명단을 쓰고, 정보를 전달하고, 그 횟수로 내가 일했는지를 본다.  
        감정이 아니라 <strong>“오늘 몇 번 전달했는가”</strong>로 판단한다.
      </div>
    </header>

    <!-- 1. 오늘 일 한 눈에 보기 -->
    <section class="card">
      <h2>오늘 나는 실제로 일을 했는가?</h2>
      <p>아래 숫자 세 개만 보면 된다. 이 중 하나라도 0이면, 오늘은 거의 일 안 한 날로 본다.</p>

      <div class="metric-row">
        <div class="metric">
          <label for="todayLeads">오늘 새로 쓴 명단</label>
          <input id="todayLeads" type="number" min="0" placeholder="0" />
          <small>이름을 새로 적은 사람 수</small>
        </div>
        <div class="metric">
          <label for="todayPitches">오늘 사업 설명 전달</label>
          <input id="todayPitches" type="number" min="0" placeholder="0" />
          <small>직접·통화·온라인 포함 “구조 설명” 횟수</small>
        </div>
        <div class="metric">
          <label for="todayInvites">오늘 디지털 초대</label>
          <input id="todayInvites" type="number" min="0" placeholder="0" />
          <small>디스코드 / 유튜브 / 사이트에 보낸 초대 링크 수</small>
        </div>
      </div>

      <div class="small-note">
        이 숫자들은 이 브라우저에만 저장된다. (localStorage)  
        기기·브라우저를 바꾸면 새로 시작한다고 보면 된다.
      </div>
    </section>

    <!-- 2. 상대 이름만 바꾸는 기본 정보 입력 -->
    <section class="card">
      <h2>1단계 – 상대 정보만 넣으면 되는 입력란</h2>
      <p>상대 이름과 관심사, 링크만 넣고 아래 버튼을 누르면, 바로 카톡·디엠에 붙여 넣을 수 있는 문장이 만들어진다.</p>

      <div class="field-row">
        <div class="field">
          <label for="inputName">상대 이름 (예: 민수, 영희)</label>
          <input id="inputName" type="text" placeholder="상대 이름" />
        </div>
        <div class="field">
          <label for="inputTopic">관심/고민 키워드</label>
          <input id="inputTopic" type="text" placeholder="예: 부업, 여행, 시간 자유, 건강, 부채 등" />
        </div>
      </div>

      <div class="field-row">
        <div class="field">
          <label for="inputMyName">내 이름</label>
          <input id="inputMyName" type="text" placeholder="예: 유송, 써나" />
        </div>
        <div class="field">
          <label for="inputDiscord">디스코드 링크</label>
          <input id="inputDiscord" type="text" placeholder="https://discord.gg/..." />
        </div>
      </div>

      <div class="field-row">
        <div class="field">
          <label for="inputYoutube">유튜브 링크</label>
          <input id="inputYoutube" type="text" placeholder="https://youtube.com/..." />
        </div>
        <div class="field">
          <label for="inputSite">THE UNIQUE 사이트 링크</label>
          <input id="inputSite" type="text" placeholder="https://wordycow.github.io/..." />
        </div>
      </div>

      <div class="btn-row">
        <button class="btn-primary" id="btnBuildText">문장 만들기</button>
        <button class="btn-secondary" id="btnClearInputs">입력 초기화</button>
      </div>

      <div class="small-note">
        ※ 위 입력값은 이 브라우저에만 임시 저장된다. 자주 쓰는 링크라면 그대로 두고 쓰면 된다.
      </div>
    </section>

    <!-- 3. 템플릿 편집기 -->
    <section class="card">
      <h2>2단계 – 내가 쓰는 기본 템플릿 (자유 편집 가능)</h2>
      <p>
        여기 있는 문장은 <strong>“기본 골격”</strong>이다.  
        문장을 마음대로 바꾸고, 아래 버튼으로 템플릿을 저장하면 이 브라우저에서 계속 유지된다.
      </p>

      <div class="divider-text">사용 가능한 치환 키워드</div>
      <div>
        <span class="pill">{{상대이름}}</span>
        <span class="pill">{{관심키워드}}</span>
        <span class="pill">{{내이름}}</span>
        <span class="pill">{{디스코드링크}}</span>
        <span class="pill">{{유튜브링크}}</span>
        <span class="pill">{{사이트링크}}</span>
      </div>

      <textarea id="templateEditor" placeholder="여기에 기본 템플릿이 들어갑니다."></textarea>

      <div class="btn-row">
        <button class="btn-secondary" id="btnSaveTemplate">템플릿 저장 (이 브라우저)</button>
        <button class="btn-secondary" id="btnResetTemplate">기본 템플릿으로 되돌리기</button>
      </div>

      <div class="small-note">
        이 템플릿은 <strong>이 브라우저의 localStorage</strong>에 저장된다.  
        다른 사람도 THE UNIQUE 사이트에서 이 페이지에 들어와서 자기 방식대로 템플릿을 바꿔 쓸 수 있다.
      </div>
    </section>

    <!-- 4. 결과 문장 + 복사 버튼 -->
    <section class="card">
      <h2>3단계 – 완성 문장 (여기서 바로 복사해서 보낸다)</h2>
      <p>버튼을 눌러 만든 문장이 여기에 뜬다. 카톡, 디스코드 DM, 인스타, 어디든 붙여 넣으면 된다.</p>

      <textarea id="resultText" placeholder="여기에 완성 문장이 생성됩니다."></textarea>

      <div class="btn-row">
        <button class="btn-primary" id="btnCopyResult">전체 복사하기</button>
        <button class="btn-secondary" id="btnClearResult">내용 비우기</button>
      </div>

      <div class="small-note">
        복사 버튼이 잘 안 되면, 위 박스를 직접 드래그해서 Ctrl+C (또는 휴대폰 복사 기능)로 복사해도 된다.
      </div>
    </section>

    <footer>
      <div><strong>일의 기준</strong> · 명단 + 설명 + 초대 횟수로 나의 일을 판단한다.</div>
    </footer>
  </div>

  <script>
    (function() {
      const STORAGE_TEMPLATE_KEY = "the_unique_work_tool_template_v1";
      const STORAGE_METRIC_KEY = "the_unique_work_tool_metrics_v1";
      const STORAGE_INPUT_KEY = "the_unique_work_tool_inputs_v1";

      // 기본 템플릿
      const defaultTemplate = [
        "[{{상대이름}}님에게 보내는 기본 문장]",
        "",
        "{{상대이름}} 요즘에 {{관심키워드}} 이야기 자주 했잖아.",
        "",
        "나는 지금 THE UNIQUE라는 시스템으로",
        "시간·돈·자유를 같이 만드는 일을 준비하고 있어.",
        "",
        "내가 하고 싶은 건,",
        "내가 혼자 뛰는 게 아니라",
        "나랑 맞는 사람들과 같이 구조를 타고 올라가는 거야.",
        "",
        "그래서 10분만에 구조만 간단히 설명해 볼게.",
        "아니다 싶으면 편하게 \"난 패스\"라고 해도 돼.",
        "",
        "자세한 내용은 내가 정리해 둔 공식 채널에서 볼 수 있어:",
        "- 디스코드 : {{디스코드링크}}",
        "- 유튜브   : {{유튜브링크}}",
        "- 사이트   : {{사이트링크}}",
        "",
        "한 번만 쭉 보고 느낌을 솔직하게 말해줘.",
        "",
        "– {{내이름}}"
      ].join("\\n");

      // 요소 가져오기
      const templateEditor = document.getElementById("templateEditor");
      const resultText = document.getElementById("resultText");

      const inputName = document.getElementById("inputName");
      const inputTopic = document.getElementById("inputTopic");
      const inputMyName = document.getElementById("inputMyName");
      const inputDiscord = document.getElementById("inputDiscord");
      const inputYoutube = document.getElementById("inputYoutube");
      const inputSite = document.getElementById("inputSite");

      const todayLeads = document.getElementById("todayLeads");
      const todayPitches = document.getElementById("todayPitches");
      const todayInvites = document.getElementById("todayInvites");

      const btnBuildText = document.getElementById("btnBuildText");
      const btnClearInputs = document.getElementById("btnClearInputs");
      const btnSaveTemplate = document.getElementById("btnSaveTemplate");
      const btnResetTemplate = document.getElementById("btnResetTemplate");
      const btnCopyResult = document.getElementById("btnCopyResult");
      const btnClearResult = document.getElementById("btnClearResult");

      // --- 템플릿 로드 ---
      function loadTemplate() {
        const saved = localStorage.getItem(STORAGE_TEMPLATE_KEY);
        templateEditor.value = saved || defaultTemplate;
      }

      // --- 템플릿 저장 ---
      function saveTemplate() {
        try {
          localStorage.setItem(STORAGE_TEMPLATE_KEY, templateEditor.value);
          alert("템플릿이 이 브라우저에 저장되었습니다.");
        } catch (e) {
          alert("템플릿 저장 중 오류가 발생했습니다. (localStorage 사용 불가)");
        }
      }

      // --- 템플릿 초기화 ---
      function resetTemplate() {
        if (confirm("기본 템플릿으로 되돌릴까요? (지금 쓴 내용은 사라집니다)")) {
          templateEditor.value = defaultTemplate;
          saveTemplate();
        }
      }

      // --- 입력값 로드/저장 ---
      function loadInputs() {
        try {
          const raw = localStorage.getItem(STORAGE_INPUT_KEY);
          if (!raw) return;
          const data = JSON.parse(raw);
          if (data.name) inputName.value = data.name;
          if (data.topic) inputTopic.value = data.topic;
          if (data.myName) inputMyName.value = data.myName;
          if (data.discord) inputDiscord.value = data.discord;
          if (data.youtube) inputYoutube.value = data.youtube;
          if (data.site) inputSite.value = data.site;
        } catch (_) {}
      }

      function saveInputs() {
        const data = {
          name: inputName.value || "",
          topic: inputTopic.value || "",
          myName: inputMyName.value || "",
          discord: inputDiscord.value || "",
          youtube: inputYoutube.value || "",
          site: inputSite.value || ""
        };
        try {
          localStorage.setItem(STORAGE_INPUT_KEY, JSON.stringify(data));
        } catch (_) {}
      }

      // --- 오늘 지표 로드/저장 ---
      function loadMetrics() {
        try {
          const raw = localStorage.getItem(STORAGE_METRIC_KEY);
          if (!raw) return;
          const data = JSON.parse(raw);
          if (typeof data.leads === "number") todayLeads.value = data.leads;
          if (typeof data.pitches === "number") todayPitches.value = data.pitches;
          if (typeof data.invites === "number") todayInvites.value = data.invites;
        } catch (_) {}
      }

      function saveMetrics() {
        const data = {
          leads: Number(todayLeads.value) || 0,
          pitches: Number(todayPitches.value) || 0,
          invites: Number(todayInvites.value) || 0
        };
        try {
          localStorage.setItem(STORAGE_METRIC_KEY, JSON.stringify(data));
        } catch (_) {}
      }

      // --- 문장 만들기 ---
      function buildText() {
        let tpl = templateEditor.value || defaultTemplate;

        const replacements = {
          "상대이름": inputName.value || "",
          "관심키워드": inputTopic.value || "",
          "내이름": inputMyName.value || "",
          "디스코드링크": inputDiscord.value || "",
          "유튜브링크": inputYoutube.value || "",
          "사이트링크": inputSite.value || ""
        };

        Object.keys(replacements).forEach(function(key) {
          const value = replacements[key];
          const pattern = new RegExp("\\\\{\\\\{" + key + "\\\\}\\\\}", "g");
          tpl = tpl.replace(pattern, value);
        });

        resultText.value = tpl;
      }

      // --- 입력 초기화 ---
      function clearInputs() {
        if (!confirm("이 입력값들을 모두 비울까요? (템플릿은 그대로 둡니다)")) return;
        inputName.value = "";
        inputTopic.value = "";
        inputMyName.value = "";
        inputDiscord.value = "";
        inputYoutube.value = "";
        inputSite.value = "";
        saveInputs();
      }

      // --- 결과 비우기 ---
      function clearResult() {
        resultText.value = "";
      }

      // --- 결과 복사 ---
      function copyResult() {
        const text = resultText.value || "";
        if (!text.trim()) {
          alert("복사할 내용이 없습니다. 먼저 문장을 만들어 주세요.");
          return;
        }

        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text)
            .then(function() {
              alert("문장이 복사되었습니다. 카톡/DM에 붙여 넣으면 됩니다.");
            })
            .catch(function() {
              fallbackCopy(text);
            });
        } else {
          fallbackCopy(text);
        }
      }

      function fallbackCopy(text) {
        try {
          resultText.focus();
          resultText.select();
          const ok = document.execCommand("copy");
          alert(ok
            ? "문장이 복사되었습니다. 카톡/DM에 붙여 넣으면 됩니다."
            : "자동 복사가 잘 안 됩니다. 직접 드래그해서 복사해 주세요.");
        } catch (e) {
          alert("자동 복사가 잘 안 됩니다. 직접 드래그해서 복사해 주세요.");
        }
      }

      // 이벤트 연결
      btnBuildText.addEventListener("click", function() {
        saveInputs();
        buildText();
      });

      btnClearInputs.addEventListener("click", clearInputs);
      btnSaveTemplate.addEventListener("click", saveTemplate);
      btnResetTemplate.addEventListener("click", resetTemplate);
      btnCopyResult.addEventListener("click", copyResult);
      btnClearResult.addEventListener("click", clearResult);

      [todayLeads, todayPitches, todayInvites].forEach(function(el) {
        el.addEventListener("change", saveMetrics);
        el.addEventListener("blur", saveMetrics);
      });

      [inputName, inputTopic, inputMyName, inputDiscord, inputYoutube, inputSite].forEach(function(el) {
        el.addEventListener("blur", saveInputs);
      });

      // 초기 로드
      loadTemplate();
      loadInputs();
      loadMetrics();
      buildText(); // 첫 화면에 한 번 만들어 둔다.
    })();
  </script>
</body>
</html>
