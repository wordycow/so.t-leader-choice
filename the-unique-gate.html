<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>The Unique â€“ Gate</title>

  <!-- ê³µìœ  ì¸ë„¤ì¼ -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="The Unique â€“ ì´ˆëŒ€ ì „ìš© ê²Œì´íŠ¸">
  <meta property="og:description" content="Invitation-only access for action takers.">
  <meta property="og:url" content="https://wordycow.github.io/so.t-leader-choice/the-unique-gate.html">
  <meta property="og:image" content="https://wordycow.github.io/so.t-leader-choice/img/og-unique-gate.jpg">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Unique â€“ ì´ˆëŒ€ ì „ìš© ê²Œì´íŠ¸">
  <meta name="twitter:description" content="Invitation-only access for action takers.">
  <meta name="twitter:image" content="https://wordycow.github.io/so.t-leader-choice/img/og-unique-gate.jpg">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- THE UNIQUE íƒ€ì´í‹€ìš© í°íŠ¸ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    /* í™”ë©´ ì „ì²´ ê½‰ ì±„ìš°ëŠ” ì»¨í…Œì´ë„ˆ */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      color: #f9fafb;
      background: #000; /* í˜¹ì‹œë¼ë„ ì´ë¯¸ì§€ ì•ˆ ëœ° ë•Œ */
    }

    .scene {
      position: fixed;
      inset: 0;              /* top:0; right:0; bottom:0; left:0; */
      overflow: hidden;      /* ë°–ìœ¼ë¡œ íŠ€ì–´ë‚˜ì˜¤ëŠ” ê±° ì˜ë¼ë‚´ê¸° */
    }

    /* ë°°ê²½ ì´ë¯¸ì§€: í™”ë©´ ê½‰ ì±„ìš°ê¸° (cover) */
    .scene-bg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;       /* í™”ë©´ ë¹„ìœ¨ê³¼ ìƒê´€ì—†ì´ ê½‰ ì±„ìš°ê¸° */
    }

    /* ë¡œê·¸ì¸ ì¹´ë“œ ì¤‘ì•™ ì •ë ¬ */
    .page-wrap {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 24px 12px;
      z-index: 10;
    }

    .gate-card {
      position: relative;
      border-radius: 26px;
      padding: 28px 26px 22px;

      /* âœ¨ ì–´ë‘ìš´ ìœ ë¦¬ íŒ¨ë„ â€“ ë§ˆì§€ë§‰ ìˆ«ì(0.2)ê°€ íˆ¬ëª…ë„ */
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(250, 204, 21, 0.95);
      box-shadow:
        0 0 14px rgba(250, 204, 21, 0.45),
        0 26px 70px rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);

      overflow: visible;
    }

    .gate-inner {
      position: relative;
      z-index: 1;
    }

    .gate-title-wrap {
      text-align: center;
      margin-bottom: 22px;
    }

    .gate-title {
      font-family: "Cinzel", "Times New Roman", serif;
      font-weight: 700;
      font-size: 40px;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      margin-bottom: 8px;

      background: linear-gradient(180deg, #fffaf0 0%, #facc6b 45%, #d97706 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;

      text-shadow:
        0 0 10px rgba(250, 204, 21, 0.9),
        0 4px 18px rgba(0,0,0,1);
    }

    .gate-subtitle-en {
      font-size: 11px;
      color: #f9fafb;
      opacity: 0.9;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      text-shadow:
        0 1px 3px rgba(0,0,0,0.9),
        0 0 6px rgba(0,0,0,0.6);
    }

    .form-body {
      max-width: 360px;
      margin: 0 auto;
    }

    .gate-input-wrap {
      margin-bottom: 10px;
    }

    .gate-input {
      width: 100%;
      padding: 11px 14px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      background: radial-gradient(circle at top, rgba(15,23,42,0.90), rgba(3,7,18,0.96));
      color: #f9fafb;
      font-size: 13px;
      outline: none;
      box-shadow:
        0 4px 14px rgba(0,0,0,0.75) inset,
        0 0 0 1px rgba(0,0,0,0.55);
    }

    .gate-input::placeholder {
      color: #6b7280;
    }

    .gate-input:focus {
      border-color: rgba(248,181,84,0.95);
      box-shadow:
        0 0 0 1px rgba(248,181,84,0.6),
        0 6px 22px rgba(0,0,0,0.9) inset;
    }

    .btn-row {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 14px;
      margin-bottom: 6px;
    }

    .btn {
      width: 100%;
      padding: 10px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      transition:
        transform 0.12s ease,
        box-shadow 0.12s ease,
        background 0.12s ease,
        border-color 0.12s ease;
    }

    .btn-primary {
      background: radial-gradient(circle at top, #f97316, #7f1d1d);
      border-color: rgba(248,181,84,0.95);
      color: #fef2f2;
      box-shadow:
        0 10px 26px rgba(0,0,0,1),
        0 0 0 1px rgba(0,0,0,0.5) inset;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 16px 38px rgba(0,0,0,1),
        0 0 0 1px rgba(0,0,0,0.5) inset;
    }

    .btn-ghost {
      background: radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(15,23,42,0.98));
      border-color: rgba(55,65,81,1);
      color: #e5e7eb;
      box-shadow: 0 8px 22px rgba(0,0,0,0.9);
    }

    .btn-ghost:hover {
      background: rgba(15,23,42,1);
      border-color: rgba(148,163,184,0.9);
    }

    .status {
      min-height: 18px;
      font-size: 11px;
      text-align: center;
      margin-top: 2px;
      text-shadow: 0 1px 3px rgba(0,0,0,0.9);
    }

    .status-error {
      color: #fecaca;
    }

    @media (max-width: 768px) {
      .gate-card {
        padding: 24px 20px 18px;
        border-radius: 22px;
      }
      .gate-title {
        font-size: 32px;
        letter-spacing: 0.22em;
      }
      .form-body {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="scene">
    <!-- ë°°ê²½ ì´ë¯¸ì§€ -->
    <img src="img/bg-unique-gate-clean.jpg" class="scene-bg" alt="The Unique Gate background">

    <!-- ë¡œê·¸ì¸ ì¹´ë“œ -->
    <div class="page-wrap">
      <main class="gate-card">
        <div class="gate-inner">
          <div class="gate-title-wrap">
            <div class="gate-title">THE UNIQUE</div>
            <div class="gate-subtitle-en">Invitation-only access for action takers</div>
          </div>

          <form id="gate-form" class="form-body">
            <div class="gate-input-wrap">
              <input
                id="login-id"
                class="gate-input"
                type="text"
                autocomplete="off"
                placeholder="ì•„ì´ë””"
              />
            </div>

            <div class="btn-row">
              <button type="submit" class="btn btn-primary">ë¡œê·¸ì¸</button>
              <a href="the-unique-signup.html" class="btn btn-ghost">íšŒì›ê°€ì…</a>
            </div>

            <div id="status" class="status"></div>
          </form>
        </div>
      </main>
    </div>
  </div>

  <script>
  const form = document.getElementById("gate-form");
  const idInput = document.getElementById("login-id");
  const statusEl = document.getElementById("status");

  // ğŸ”¥ êµ¬ê¸€ ì‹œíŠ¸ JSON URL (ì•„ì´ë”” ëª©ë¡ ê°€ì ¸ì˜¤ê¸°)
  const SHEET_URL =
    "https://docs.google.com/spreadsheets/d/1SUXCiLg7sbZ_2OxanCEgVwgk3dJhZLhyX0-ltTxBnM/gviz/tq?tqx=out:json&sheet=Form_Responses";

  // í•œ ë²ˆë§Œ ë°›ì•„ì™€ì„œ ì¬ì‚¬ìš©
  let allowedIdsPromise = null;

  async function fetchAllowedIds() {
    const res = await fetch(SHEET_URL);
    const text = await res.text();

    // gviz í¬ë§· ì•ë’¤ ì´ìƒí•œ ê¸€ì ì œê±°
    const json = JSON.parse(text.substring(47, text.length - 2));
    const rows = json.table.rows;

    // Bì—´(ì¸ë±ìŠ¤ 1)ì´ "ì•„ì´ë””" ì»¬ëŸ¼ì´ë¼ê³  ê°€ì •
    const ids = rows
      .map((row) => row.c[1] && row.c[1].v)
      .filter(Boolean)
      .map((v) => String(v).trim().toLowerCase());

    return new Set(ids);
  }

  function getAllowedIds() {
    if (!allowedIdsPromise) {
      allowedIdsPromise = fetchAllowedIds();
    }
    return allowedIdsPromise;
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const id = (idInput.value || "").trim();
    statusEl.textContent = "";
    statusEl.className = "status";

    if (!id) {
      statusEl.textContent = "ì•„ì´ë””ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
      statusEl.classList.add("status-error");
      return;
    }

    statusEl.textContent = "íšŒì› í™•ì¸ ì¤‘ì…ë‹ˆë‹¤...";
    try {
      const allowedIds = await getAllowedIds();
      const normalized = id.toLowerCase();

      if (allowedIds.has(normalized)) {
        // âœ… íšŒì›ê°€ì…ëœ ì•„ì´ë”” â†’ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
        window.location.href = "the-unique-main.html";
        // ë˜ëŠ” ì „ì²´ ì£¼ì†Œë¥¼ ì“°ê³  ì‹¶ìœ¼ë©´:
        // window.location.href = "https://wordycow.github.io/so.t-leader-choice/the-unique-main.html";
      } else {
        // âŒ ì‹œíŠ¸ì— ì—†ëŠ” ì•„ì´ë””
        statusEl.textContent = "ë“±ë¡ë˜ì§€ ì•Šì€ ì•„ì´ë””ì…ë‹ˆë‹¤.";
        statusEl.classList.add("status-error");
      }
    } catch (err) {
      console.error(err);
      statusEl.textContent = "íšŒì› í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
      statusEl.classList.add("status-error");
    }
  });
</script>
</body>
</html>
